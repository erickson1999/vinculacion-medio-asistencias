import React, { useEffect, useState, FC } from 'react';
import './App.css';

interface DataInterface {
	userId: number;
	id: number;
	title: string;
	body: string;
}

const App: FC = () => {
	const initialData: DataInterface[] = [];
	const [data, setData] = useState<DataInterface[]>(initialData);

	useEffect(() => {
		fetch('https://jsonplaceholder.typicode.com/posts')
			.then((resRaw) => resRaw.json())
			.then((res: DataInterface[]) => setData(res));
	}, []);

	return (
		<div className="App">
			{data.map((item: DataInterface, i: number) => (
				<Post item={item} i={i} key={i}></Post>
			))}
		</div>
	);
};

interface PostInterface {
	item: DataInterface;
	i: number;
}

const Post: FC<PostInterface> = ({ item, i }) => {
	return (
		<>
			<h1>
				{i + 1} {item.title}
			</h1>
			<p>{item.body}</p>
		</>
	);
};

export default App;
